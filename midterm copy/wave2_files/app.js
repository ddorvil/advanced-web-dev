/* SimpleAnalytics.com - Privacy friendly analytics (uncompressed: github.com/simpleanalytics/scripts/blob/master/src/external.js) */

!function(i,e,t){try{if(!i)return;var o,h=i.navigator,c=i.location,u=i.document,r=i.console,l=h.userAgent,n=i.dispatchEvent,p="https://"+e+t,d="Not sending requests ",a=u.querySelector('script[src="'+p+'.js"]'),f=a?a.getAttribute("data-mode"):null,m=function(e){r&&r.warn&&r.warn("Simple Analytics: "+e)};if(-1<l.search(/(bot|spider|crawl)/gi))return m(d+"because user agent is a robot");var s=function(e){var t=c.protocol+"//"+c.hostname+c.pathname;if("hash"===f&&c.hash&&(t+=c.hash.split("?")[0]),o!==t){if(o=t,"visibilityState"in u&&"prerender"===u.visibilityState)return m(d+"when prerender");if("doNotTrack"in h&&"1"===h.doNotTrack)return m(d+"when doNotTrack is enabled");if("localhost"===c.hostname)return m(d+"from localhost");var r=c.search.match(/[?&](utm_source|source|ref)=([^?&]+)/gi),n=r?r.map(function(e){return e.split("=")[1]}):[],a={url:t};l&&(a.ua=l),n&&n[0]&&(a.urlReferrer=n[0]),u.referrer&&!e&&(a.referrer=u.referrer),i.innerWidth&&(a.width=i.innerWidth);try{a.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){}var s=new XMLHttpRequest;s.open("POST",p,!0),s.setRequestHeader("Content-Type","text/plain; charset=UTF-8"),s.send(JSON.stringify(a))}},v=i.history;if((v?v.pushState:null)&&Event&&n){v.pushState=(y=v[w="pushState"],function(){var e=y.apply(this,arguments),t=new Event(w);return t.arguments=arguments,n(t),e}),i.addEventListener("pushState",function(){s(!0)})}"hash"===f&&"onhashchange"in i&&(i.onhashchange=s),s()}catch(e){(r=r||i.console)&&r.error&&r.error(e);var g=p+".gif";e&&e.message&&(g=g+"?error="+encodeURIComponent(e.message)),(new Image).src=g}var w,y}(window,'api.getwaves.io','/app');
